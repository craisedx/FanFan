@model FanFan.Models.FanFictionPostViewModel
<div class="container mt-5">
    <div class="row bg-secondary shadow p-3 mb-5 bg-white rounded m-2">
        <div class="col-10 col-md-5">
            <h2 class="display-5">Добавление фанфика</h2>
            <form id="form" method="post" data-pasley-validate class="form-horizontal" asp-action="Create" asp-controller="FanFiction" enctype="multipart/form-data" asp-anti-forgery="true">
                <div class="validation" asp-validation-summary="ModelOnly"></div>
                <br class="breadcrumb">
                    
                    <input type="hidden" asp-for="AppUserId" value=@User.Claims.ElementAt(0).Value>
                <div class="form-group">
                    <label asp-for="Name">Введите название</label><br />
                    <input type="text" asp-for="Name" class="form-control" aria-describedby="emailHelp" placeholder="Название">
                    @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label asp-for="ShortDescription">Описание</label>
                    <textarea type="text" asp-for="ShortDescription" class="form-control" id="exampleFormControlTextarea1" placeholder="Описание"></textarea>
                    <span asp-validation-for="ShortDescription" />
                    @Html.ValidationMessageFor(model => model.ShortDescription, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label asp-for="FandomId">Фендом</label>
                    <select size="1" name="FandomId" class="form-control" id="exampleFormControlSelect1">
                        @foreach (var item in ViewBag.AllFandoms)
                        {
                            <option value="@Convert.ToInt32(item.Id)">@item.Name</option>
                        }
                    </select>
                </div>
                <div class="form-group">
                        <input type="file" name="file" asp-for="Picture" id="file">
                    <label>Картинка</label>
                    <div class="form-group inputDnD">
                        <label class="control-label col-md-2" for="first-name">Файл загружен<span class="required">*</span></label>
                        <div class="col-md-6" id="dropzone">

                            <div action="/FanFiction/upload" class="dropzone" id="uploader">
                                Перетащите файл или нажмите
                            </div>
                        </div>
                    </div>
                  
                </div>
                <button type="submit" class="btn btn-primary">Добавить</button>
            </form>
            <script src="~/js/dropzone.js" ></script>
        </div>
    </div>
</div>
